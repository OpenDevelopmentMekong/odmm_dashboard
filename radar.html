<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <script src="http://d3js.org/d3.v3.min.js"></script>
	   <script src="RadarChart.js"></script>
	    <style>
		      body {
		          overflow: hidden;
		          margin: 0;
		          font-size: 14px;
		          font-family: "Helvetica Neue", Helvetica;
      		}

	      	#chart {
		          position: absolute;
		          top: 50px;
		          left: 100px;
	      	}
    	</style>
  </head>

  <body>
    <div id="body">
	  <div id="chart"></div>
    </div>

    <script>
      // Prepare the spider chart
      var width = 300, height = 200, i = 0;
      var colorScale = d3.scale.category10();
      var legendOptions = ['Min','Median','Max'];

      /* Shaping data for RadarChart():
      Take a raw csv string, turn it into JSON,
      shape it into format required by RadarChart() */
      var pci = `province,rank,score,sub1,sub2,sub3,sub4,sub5,sub6,sub7,sub8,sub9,sub10\nBRVT,16,64.43,8.19,5.94,6.36,6.42,5.04,4.33,5.45,7.08,7.29,5.55
Bac Lieu,42,61.09,8.58,6.55,6.47,6.70,6.38,5.93,6.04,5.77,5.25,5.68`;
      pci = d3.csv.parse(pci);
      var keys = Object.keys(pci[0]).slice(3);
      var spiderData = [];
      var maxValue = 10;

      for (var row in pci) {
        spiderData.push([]);
        for (var key in keys) {
          var value = parseFloat(pci[row][keys[key]]);
          spiderData[row].push(
            { axis: keys[key],
            value: value }
          );
        }
        console.log(JSON.stringify(spiderData[row]));
      }

      // Config options specified to call radar drawing function
      var config = {
        w: width,
        h: height,
        maxValue: maxValue,
        levels: 5,
        ExtraWidthX: 300
      };

      RadarChart("#chart", spiderData, config);




    </script>



  </body>
</html>
